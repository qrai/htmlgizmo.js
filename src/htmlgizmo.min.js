const htmlgizmo={queue:[],do:function(action){"complete"===document.readyState?action():this.queue.push(action)},resizable:function(query,resizers=["top-left","top-right","bottom-left","bottom-right"]){this.do((function(){document.querySelectorAll(query).forEach(element=>{var resizersEl=document.createElement("div");resizersEl.setAttribute("class","gizmos"),resizers.forEach(resizer=>{var resizerEl=document.createElement("div");resizerEl.setAttribute("class","resizer "+resizer),resizersEl.appendChild(resizerEl)}),element.style.position="absolute",element.appendChild(resizersEl);const minSize=50;let original_width=0,original_height=0,original_x=0,original_y=0,original_mouse_x=0,original_mouse_y=0;for(let i=0;i<resizersEl.childNodes.length;i++){const currentResizer=resizersEl.childNodes[i];function resize(e){if(currentResizer.classList.contains("bottom-right")){const width=original_width+(e.pageX-original_mouse_x),height=original_height+(e.pageY-original_mouse_y);width>50&&(element.style.width=width+"px"),height>50&&(element.style.height=height+"px")}else if(currentResizer.classList.contains("bottom-left")){const height=original_height+(e.pageY-original_mouse_y),width=original_width-(e.pageX-original_mouse_x);height>50&&(element.style.height=height+"px"),width>50&&(element.style.width=width+"px",element.style.left=original_x+(e.pageX-original_mouse_x)+"px")}else if(currentResizer.classList.contains("top-right")){const width=original_width+(e.pageX-original_mouse_x),height=original_height-(e.pageY-original_mouse_y);width>50&&(element.style.width=width+"px"),height>50&&(element.style.height=height+"px",element.style.top=original_y+(e.pageY-original_mouse_y)+"px")}else if(currentResizer.classList.contains("top-left")){const width=original_width-(e.pageX-original_mouse_x),height=original_height-(e.pageY-original_mouse_y);width>50&&(element.style.width=width+"px",element.style.left=original_x+(e.pageX-original_mouse_x)+"px"),height>50&&(element.style.height=height+"px",element.style.top=original_y+(e.pageY-original_mouse_y)+"px")}}function stopResize(e){window.removeEventListener("mousemove",resize)}currentResizer.addEventListener("mousedown",(function(e){e.preventDefault(),original_width=parseFloat(getComputedStyle(element,null).getPropertyValue("width").replace("px","")),original_height=parseFloat(getComputedStyle(element,null).getPropertyValue("height").replace("px","")),original_x=element.getBoundingClientRect().left,original_y=element.getBoundingClientRect().top,original_mouse_x=e.pageX,original_mouse_y=e.pageY,window.addEventListener("mousemove",resize),window.addEventListener("mouseup",stopResize)}))}element.setAttribute("selected","")})}))},moveable:function(query){console.error("moveables arent implemented yet")},rotatable:function(query){console.error("rotatables arent implemented yet")},select:function(query,mode){switch(mode){case"resize":htmlgizmo.resizable(query);break;case"move":htmlgizmo.moveable(query);break;case"rotate":htmlgizmo.rotatable(query);break;default:return void console.error(`Unknown mode (${mode})`)}},unselect:function(query){this.do((function(){document.querySelectorAll(query+" .gizmos").forEach(element=>{element.parentNode.style.position="inherit",element.parentNode.removeAttribute("selected"),element.remove()})}))}};document.addEventListener("DOMContentLoaded",(function(){var style=document.createElement("style");style.appendChild(document.createTextNode("\n        [selected] {\n            border: 3px solid #4286f4;\n        }\n        .gizmos {\n            width: 100%;\n            height: 100%;\n            box-sizing: border-box;\n            position: absolute;\n        }\n        .gizmos .resizer {\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            border: 3px solid #4286f4;\n            background: white;\n            position: absolute;\n        }\n        .gizmos .resizer.top-left {\n            left: -5px;\n            top: -5px;\n            cursor: nwse-resize;\n        }\n        .gizmos .resizer.top-right {\n            right: -5px;\n            top: -5px;\n            cursor: nesw-resize;\n        }\n        .gizmos .resizer.bottom-left {\n            left: -5px;\n            bottom: -5px;\n            cursor: nesw-resize;\n        }\n        .gizmos .resizer.bottom-right {\n            right: -5px;\n            bottom: -5px;\n            cursor: nwse-resize;\n        }\n    ")),document.getElementsByTagName("head")[0].appendChild(style),htmlgizmo.queue.forEach(action=>{action()})}));
